---
title: "01-express-Intro"
date: 2023/02/05
---

## 1. Node.js란

> Node.js는 Chrom V8 JavaScript 엔진으로 빌드된 JavaScript 런타임

* `런타임` : 특정 언어로 개발된 프로그램을 해석하고 실행할 수 있는 환경
  * 프로그래밍 넝어가 구동되는 환경
* `JavaScript 런타임` : JS로 된 프로그램을 해석하고 실행할 수 있는 환경
* `Chrom V8 JavaScript 엔진`
  * Node.js가 등장하기 전 JS는 브라우저에서만 동작
  * 2008년 구글이 크롬 브라우저를 출시
  * 크롬 브라우저를 만들면서 V8엔진을 개발했고, 이로 인해 JS 실행 속도가 대폭 개선됨
* `Node.js`는 브라우저 밖에서도 JS를 실행할려고 V8엔진을 이용해 만든 것

------

## 2. Node.js의 특징

> 첫 번쨰 예시
>
> * 스레드(Thread)라는 사람이 라면집 개업
> * 혼자 장사함
> * 손님이 주문하면, 요리를 다 할 떄까지 주문을 못받음
>
> 두 번째 예시
>
> * 여러 명의 직원(Thread)을 뽑음
> * 장사가 안되면, 직원(Thread)이 놈
>
> 세 번쨰 예시
>
> * 첫 번쨰 예시에서 스레드(Thread)가
> * 논블로킹(Non-blocking) 기계를 샀음 
> * 논블로킹 기계가 손님 주문을 받음
> * 스레드는 요리만 함

**프로그래밍 언어마다 차이가 있지만, 위 3가지 방식 중 한 가지 형태로 실행**됩니다.

* 두 번쨰 예시
  * 가지고 있는 자원이 많은 경우
  * e.g. Java
* 세 번쨰 예시
  * 가지고 있는 자원이 한정적이고 최대한 효율적이여 햐는 경우
  * e.g. Node
  * Node는 가볍고, 효율적이고, 높은 성능처리를 위해
  * 논블로킹I/O , 싱글 스레드, 이벤트 루프라는 특징을 가집니다.

------

### 2.1 논블로킹(Non-blocking) I/O

프로그래밍 언어별로 처리하는 방식은 크게 2가지가 있습니다.

*  **여러 개의 작업을동시에 처리**할 수 있는 언어
* **한 번에 하나의 작업만 처리**할 수 있는 언어 (e.g. JavaScript)

------

그렇지만 I/O 작업의 경우 JS도 동시처리할 수 있습니다.

* e.g. 파일 읽기/쓰기같은 파일 시스템 처리
* e.g. DB로 데이터를 전송/조회같은 네트워크 요청

> cf. I/O 작업 = 입력(input)과 출력(output)의 줄임말

#### 2.1.1 블로킹(Blocking)

* 함수를 호출하면 호출된 함수가 **작업을 마칠 떄까지 제어권을 돌려주지 않고 함수가 종료될 떄까지 대기**하는 방식
* 함수가 완전히 종료되기 전까지는 **다른 작업을 진행하지 못하고 기다리는 것**
* **동기적 I/O**
* 파일 쓰기가 완료될 떄까지 프로그램이 다음 코드를 실행하지 않고, 
  * 대기하기 때문에 파일을 쓰는 동안 CPU가 사용되지 않아 비효율적 

------

#### 2.1.2 논블로킹(Non-blocking)

* 함수를 호출하면 호출된 함수에게 **바로 제어권을 넘겨서 다른 작업을 바로 진행**할 수 있도록 하는 방식
* 함수를 호출되어 실행되는 중에도 **다른 작업을 진행 가능**
* **비동기적 I/O**
* 파일 쓰기를 요청한 후 다른 작업을 할 수 있어서 좀 더 효율적

“논 블로킹이 좋다, 블로킹이 좋다”의 개념이 아니라
어떤 경우에는 블로킹 작업을 해야하고, 어떤 경우엔 논블로킹 작업을 해야할 떄도 있습니다.

------

### 2.2 싱글 스레드(Single Thread)

* `싱글 스레드` = 스레드를 하나만 사용해, **하나의 작업만 수행**
  * 즉, 동시에 하나의 작업만 처리할 수 있다는 뜻
  * e.g. Node
*  JS같은 싱글 스레드 언어는 작성된 프로그램이 순차적으로 실행되고, 여러 작업을 동시처리X
* 반대로, `멀티 스레드` = 스레드를 여러 개를 두어서 **동시에 여러 작업을 수행**
  * e.g. Java

------

#### 2.2.1 프로세스

* 컴퓨터는 `프로세스`라는 작업 단위를 두고 프로세스를 통해 작업을 처리합니다.
* Node.js를 포함한 여러 프로그램들은 **개별적인 프로세스**로,
  * 리소스(CPU, 메모리, 저장공간 등)을 할당받아서 실행됩니다.
* `스레드(Theard)`는 프로세스 안에서 작업을 처리하기 위해 실행되는 흐름의 단위
* **하나의 프로세스는 여러 개의 스레드를 생성해 여러 작업을 동시에 처리**할 수 있습니다.

------

#### 2.2.2 싱글 스레드 vs 멀티 스레드 장단점

* 멀티 스레드
  * 장점 : 동시에 여러 작업을 수행해 성능이 좋음
  * 단점 : 많은 자원이 필요하고, 자원이 제대로 사용되지 않는 비효율이 생길 수 있음
* 싱글 스레드
  * 장점 : 
    * Node.js는 싱글 스레드의 약저을 극복하기 위해 논블로킹을 사용하여
    * 파일 쓰기, 네트워크를 통한 DB 처리 등의 작업을 하는 동안 컴퓨터가 쉬지않고,
    * 다른 작업을 하도록 해서 적은 자원으로 효율아 좋음

------

### 2.3 이벤트 루프

Node.js는 V8 JS 엔진과 libuv, llhttp, c-ares,OpenSSL, zlib라는 라이브러리로 구성되어 있습니다.

* 이 중 libuv는 이벤트 루프를 통해 JS가 가진 싱글 스레드의 약점을 극복하고
* 효율적인 작업을 처리하도록 고안되었습니다.

![js-14-2](https://raw.githubusercontent.com/berenickt/image-server/main/img/js-14-2.png)

------

## 3. NPM

NPM은 Node Package Manager로 Node.js 기반으로 개발된 수많은 JS 패키지(라이브러리)가 등록되어 있어
개발자들이 쉽게 설치하고, 운영할 수 있도록 해주는 Node.js 패키지 관리자입니다.

